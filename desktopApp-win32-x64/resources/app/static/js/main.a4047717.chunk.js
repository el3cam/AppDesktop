(this.webpackJsonpti=this.webpackJsonpti||[]).push([[0],{21:function(e,t,n){},37:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var s=n(2),i=n(12),c=n.n(i),a=(n(37),n(38),n(6)),o=n(7),r=n(9),l=n(8),d=n(3),p=n(5),j=n.n(p),h=n(10),u=(n(21),n(16)),m=n.n(u),b=n(1),x=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).setDateDetails=function(e){var t=new FormData;t.append("optionService","SelectDetailsList"),t.append("conjunto",e.target.value),"-"!==e.target.value?s.setState({list:e.target.value}):s.setState({list:!1}),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){s.setState({detallesLs:e.json})}))},s.validarDato=function(e){var t=e.target.id.split("-"),n=document.getElementById("Nota-"+t[1]),s=document.getElementById("costo-"+t[1]);parseInt(s.value)<parseInt(e.target.value)?n.hidden=!1:n.hidden=!0},s.componentWillUnmount=function(){s.setState({list:!1})},s.saveDetails=function(){var e=new FormData;e.append("optionService","InsertDetails"),s.state.detallesLs.map((function(t){var n=document.getElementById("MontoReal-"+t.id),i=document.getElementById("Nota-"+t.id);e.append("values[]",[t.id,s.props.partSelect,n.value,i.value])})),console.log([]),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:e,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){s.setState({list:!1}),s.props.viewDetails(!1,s.props.partSelect)}))},s.RegistrarDetalles=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Selecciona la lista y llena los campos"}),Object(b.jsx)("input",{type:"text",hidden:!0,defaultValue:s.props.partSelect}),Object(b.jsxs)(d.h,{type:"select",onChange:s.setDateDetails,id:"inputList",children:[Object(b.jsx)("option",{value:"-"}),Object(b.jsx)("option",{value:"COMUNICACIONES",children:" COMUNICACIONES"}),Object(b.jsx)("option",{value:"TELEFONIA",children:" TELEFONIA"})]})]}),Object(b.jsx)(d.r,{children:"COMUNICACIONES"===s.state.list?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Empresa"}),Object(b.jsx)("th",{children:"Nunmero"}),Object(b.jsx)("th",{children:"Ubicacion"}),Object(b.jsx)("th",{children:"Tipo Paquete"}),Object(b.jsx)("th",{children:"Costo del plan"}),Object(b.jsx)("th",{children:"Costo real"})]})}),Object(b.jsx)("tbody",{children:s.state.detallesLs.length?s.state.detallesLs.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.subconunto}),Object(b.jsx)("td",{children:e.description}),Object(b.jsx)("td",{children:e.origin}),Object(b.jsx)("td",{children:e.description2}),Object(b.jsxs)("td",{children:["$",e.costo]}),Object(b.jsxs)("td",{children:[Object(b.jsx)(d.h,{type:"number",style:{width:100,height:25,fontSize:12},onBlur:s.validarDato,id:"MontoReal-"+e.id}),Object(b.jsx)("input",{defaultValue:e.costo,id:"costo-"+e.id,hidden:!0})]}),Object(b.jsx)("td",{style:{width:215,height:50},children:Object(b.jsx)(d.h,{type:"textarea",hidden:!0,style:{fontSize:11,height:10,width:200},id:"Nota-"+e.id})})]},t)})):"b"})]}):"TELEFONIA"===s.state.list?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Conjunto"}),Object(b.jsx)("th",{children:"Usuario"}),Object(b.jsx)("th",{children:"Puesto"}),Object(b.jsx)("th",{children:"Empresa"}),Object(b.jsx)("th",{children:"Ubicacion"}),Object(b.jsx)("th",{children:"Vencimiento"}),Object(b.jsx)("th",{children:"Numero"}),Object(b.jsx)("th",{children:"Costo"})]})}),Object(b.jsx)("tbody",{children:s.state.detallesLs.length?s.state.detallesLs.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.subconunto}),Object(b.jsx)("td",{children:e.user}),Object(b.jsx)("td",{children:e.puesto}),Object(b.jsx)("td",{children:e.empresa}),Object(b.jsx)("td",{children:e.origin}),Object(b.jsx)("td",{children:e.fechaVencimiento}),Object(b.jsx)("td",{children:e.description}),Object(b.jsxs)("td",{children:["$",e.costo]}),Object(b.jsxs)("td",{children:[Object(b.jsx)(d.h,{type:"number",style:{width:100,height:25,fontSize:12},onBlur:s.validarDato,id:"MontoReal-"+e.id}),Object(b.jsx)("input",{defaultValue:e.costo,id:"costo-"+e.id,hidden:!0})]}),Object(b.jsx)("td",{style:{width:215,height:50},children:Object(b.jsx)(d.h,{type:"textarea",hidden:!0,style:{fontSize:11,height:10,width:200},id:"Nota-"+e.id})})]},t)})):"b"})]}):""})]})},s.state={detallesLs:[],list:!1},s}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(d.j,{backdrop:"static",id:"ModalUser1",isOpen:this.props.modal,toggle:this.props.toggle,size:"xl",className:"small",children:[Object(b.jsx)(d.m,{className:"bg-info text-white"}),Object(b.jsx)(d.k,{children:this.props.detailsLs.length?Object(b.jsxs)(d.r,{children:[Object(b.jsx)("thead",{children:this.props.detailsLs.length?"TELEFONIA"===this.props.detailsLs[0].conjunto?Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Conjunto"}),Object(b.jsx)("th",{children:"Usuario"}),Object(b.jsx)("th",{children:"Puesto"}),Object(b.jsx)("th",{children:"Empresa"}),Object(b.jsx)("th",{children:"Ubicacion"}),Object(b.jsx)("th",{children:"Vencimiento"}),Object(b.jsx)("th",{children:"Numero"}),Object(b.jsx)("th",{children:"Costo"}),Object(b.jsx)("th",{children:"Costo Real"}),Object(b.jsx)("th",{children:"Nota"})]}):Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Conjunto"}),Object(b.jsx)("th",{children:"Empresa"}),Object(b.jsx)("th",{children:"Ubicacion"}),Object(b.jsx)("th",{children:"Vencimiento"}),Object(b.jsx)("th",{children:"Numero"}),Object(b.jsx)("th",{children:"Costo"}),Object(b.jsx)("th",{children:"Costo Real"}),Object(b.jsx)("th",{children:"Nota"})]}):""}),Object(b.jsx)("tbody",{children:this.props.detailsLs.length?this.props.detailsLs.map((function(t){return"TELEFONIA"===e.props.detailsLs[0].conjunto?Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.subconunto}),Object(b.jsx)("td",{children:t.user}),Object(b.jsx)("td",{children:t.puesto}),Object(b.jsx)("td",{children:t.empresa}),Object(b.jsx)("td",{children:t.origin}),Object(b.jsx)("td",{children:t.fechaVencimiento}),Object(b.jsx)("td",{children:t.description}),Object(b.jsxs)("td",{children:["$",t.costo]}),Object(b.jsxs)("td",{children:["$",t.montoReal]}),Object(b.jsx)("td",{children:t.nota})]}):Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.subconunto}),Object(b.jsx)("td",{children:t.empresa}),Object(b.jsx)("td",{children:t.origin}),Object(b.jsx)("td",{children:t.fechaVencimiento}),Object(b.jsx)("td",{children:t.description}),Object(b.jsxs)("td",{children:["$",t.costo]}),Object(b.jsxs)("td",{children:["$",t.montoReal]}),Object(b.jsx)("td",{children:t.nota})]})})):"b"})]}):this.RegistrarDetalles()}),Object(b.jsxs)(d.l,{children:[Object(b.jsx)(d.a,{color:"secondary",size:"sm",outline:!0,onClick:function(){e.setState({list:!1}),e.props.toggle()},children:"Cancelar"}),Object(b.jsx)(d.a,{id:"guardarPart",color:"success",size:"sm",outline:!0,onClick:this.saveDetails,children:"Guardar"})]})]})})}}]),n}(s.Component),O=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).AddPart=function(){var e=document.getElementById("idDocRef").value,t=document.getElementById("oc").value,n=parseFloat(document.getElementById("montoProcess").value),i=parseFloat(document.getElementById("montoOc").value),c=document.getElementById("cuentaOc").value,a=document.getElementById("partidaOc").value,o=document.getElementById("empresaOc").value;if(""!==t&&""!==i&&t>0&&i>0&&i<=n){var r=new FormData;r.append("optionService","InsertPart"),r.append("oc",t),r.append("type",document.getElementById("typeProcess").value),r.append("process",e),r.append("cuentaOc",c),r.append("partidaOc",a),r.append("empresaOc",o),t="",fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:r,header:new Headers({"Content-Type":"application/json"})}).then((function(){s.props.getDataParts(document.getElementById("idDocRef").value)}))}else i>n&&alert("Monto de oc mayor al total de la factura")},s.nextState=function(e){m()({icon:"warning",text:"\xbfQuieres pasar al siguiente estado?",buttons:{cancel:!0,confirm:!0}}).then((function(t){if(t){var n=new FormData;n.append("optionService","UpdatePartState"),n.append("id",e.id),n.append("state",e.state),n.append("nextState",e.nextState),n.append("nextId",e.idNext),n.append("type",document.getElementById("typeProcess").value),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:n,header:new Headers({"Content-Type":"application/json"})}).then((function(){s.props.getDataParts(document.getElementById("idDocRef").value)})),m()({title:"Estado Actualizado",timer:1e3,icon:"success",buttons:!1}).then((function(){}))}else m()({title:"Cancelado",timer:500,icon:"error",buttons:!1})}))},s.viewExtraPart=function(e){var t=new FormData;t.append("optionService","SelectLogPart"),t.append("id",e.id),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){s.setState({logLs:e.json})})),s.toggle()},s.updatePart=function(e){var t=e.target.id.split("-"),n="";if("fp"!==t[1]&&"ov"!==t[1]||(n=e.target.value),""!==n||"payment"===t[1]||"oCContadores"===t[1]){var i=new FormData;i.append("optionService","UpdatePart"),i.append("id",t[0]),i.append("value",n),i.append("type",t[1]),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:i,header:new Headers({"Content-Type":"application/json"})}).then((function(){s.props.getDataParts(document.getElementById("idDocRef").value)}))}},s.toggle=function(){s.setState({modalLog:!s.state.modalLog})},s.viewDetails=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!1===n&&!1!==e?(t=e.target.id,e.target.localName):t=n;var i=new FormData;i.append("optionService","SelectDetails"),i.append("id",t),s.setState({partSelect:t}),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:i,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){s.setState({detailsLs:e.json})})),!1!==e&&s.toggle()},s.componentDidUpdate=function(){},s.state={modalLog:!1,partsLs:[],detailsLs:[]},s}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{modal:this.state.modalLog,toggle:this.toggle,detailsLs:this.state.detailsLs,viewDetails:this.viewDetails,partSelect:this.state.partSelect}),Object(b.jsxs)(d.j,{backdrop:"static",id:"ModalUser1",isOpen:this.props.modal,toggle:this.props.toggle,size:"xl",className:"small",children:[Object(b.jsxs)(d.m,{className:"bg-info text-white",children:["Factura: ",this.props.process.factura]}),Object(b.jsxs)(d.k,{children:[Object(b.jsxs)("div",{className:"d-flex align-items-center",style:{},children:[Object(b.jsxs)(d.g,{floating:!0,children:[Object(b.jsx)(d.h,{type:"number",id:"oc",placeholder:"oc",style:{height:40}}),Object(b.jsx)(d.i,{for:"oc",style:{paddingTop:7.5},children:"OC"})]}),Object(b.jsxs)(d.g,{floating:!0,children:[Object(b.jsx)(d.h,{type:"number",bsSize:"md",id:"montoOc",placeholder:"Monto",style:{height:40}}),Object(b.jsx)(d.i,{for:"oc",style:{paddingTop:7.5},children:"Monto"})]}),Object(b.jsxs)(d.g,{floating:!0,children:[Object(b.jsx)(d.h,{type:"number",bsSize:"md",id:"cuentaOc",placeholder:"Cuenta",style:{height:40}}),Object(b.jsx)(d.i,{for:"oc",style:{paddingTop:7.5},children:"Cuenta"})]}),Object(b.jsxs)(d.g,{floating:!0,children:[Object(b.jsx)(d.h,{type:"number",bsSize:"md",id:"partidaOc",placeholder:"Partida",style:{height:40}}),Object(b.jsx)(d.i,{for:"oc",style:{paddingTop:7.5},children:"Partida"})]}),Object(b.jsxs)(d.g,{floating:!0,children:[Object(b.jsxs)(d.h,{type:"select",bsSize:"md",id:"empresaOc",placeholder:"Empresa",style:{height:40,padding:"15px 30px 0 10px "},children:[Object(b.jsx)("option",{value:"RECREFAM",children:" RECREFAM"}),Object(b.jsx)("option",{value:"OPARDIV",children:"OPARDIV"}),Object(b.jsx)("option",{value:"FRANQUICIAS",children:"FRANQUICIAS"}),Object(b.jsx)("option",{value:"SERVICIOS",children:"SERVICIOS"})]}),Object(b.jsx)(d.i,{for:"empresaOc",style:{paddingTop:7.5},children:"Empresa"})]}),Object(b.jsx)(d.h,{defaultValue:this.props.process.idProcess,id:"idDocRef",hidden:!0}),Object(b.jsx)(d.h,{defaultValue:this.props.process.idCategory,id:"typeProcess",hidden:!0}),Object(b.jsx)(d.h,{defaultValue:this.props.process.montoReal,id:"montoProcess",hidden:!0}),Object(b.jsx)(d.a,{color:"btn btn-outline-primary btn-sm ",style:{fontSize:20,marginLeft:5},title:"Agregar parte",onClick:this.AddPart,children:Object(b.jsx)("span",{className:"fas fa-plus"})})]}),Object(b.jsxs)(d.r,{className:"table table-hover",style:{},children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"id"}),Object(b.jsx)("th",{children:"OC"}),Object(b.jsx)("th",{children:"Registro de OC"}),Object(b.jsx)("th",{children:"Envio OC"}),"2"===this.props.process.type?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("th",{children:"OV"}),Object(b.jsx)("th",{children:"Fecha de OV"})]}):"",Object(b.jsx)("th",{children:"FP"}),Object(b.jsx)("th",{children:"Fecha de FP"}),Object(b.jsx)("th",{children:"Confirmacion en flujo"}),Object(b.jsx)("th",{children:"Detalle"})]})}),Object(b.jsx)("tbody",{children:this.props.partsLs.length>0?this.props.partsLs.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.id}),Object(b.jsx)("td",{children:t.oc}),Object(b.jsx)("td",{style:{color:"#708090"},children:t.dateOc})," ",Object(b.jsx)("td",{style:{color:"#708090"},children:null===t.dateOcContadores?Object(b.jsx)(d.a,{color:"btn btn-outline-primary btn-sm ",style:{fontSize:11,marginLeft:50},title:"Confirmacion de flujo",onClick:e.updatePart,id:t.id+"-oCContadores",children:Object(b.jsx)("span",{className:"fas fa-check",id:t.id+"-oCContadores"})}):t.dateOcContadores}),"2"===e.props.process.type?Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)("td",{children:null===t.ov?Object(b.jsx)(d.h,{id:t.id+"-ov",onBlur:e.updatePart,style:{width:100,height:29,fontSize:11}}):t.ov})," ",Object(b.jsxs)("td",{style:{color:"#708090"},children:[" ",t.dateOv]})]}):"",Object(b.jsx)("td",{children:null===t.fp?Object(b.jsx)(d.h,{id:t.id+"-fp",onBlur:e.updatePart,style:{width:100,height:29,fontSize:11}}):t.fp}),Object(b.jsx)("td",{style:{color:"#708090"},children:t.dateFp}),Object(b.jsx)("td",{style:{color:"#708090"},children:null===t.payment?Object(b.jsx)(d.a,{color:"btn btn-outline-primary btn-sm ",style:{fontSize:11,marginLeft:50},title:"Confirmacion de flujo",onClick:e.updatePart,id:t.id+"-payment",children:Object(b.jsx)("span",{className:"fas fa-check",id:t.id+"-payment"})}):t.datePay}),Object(b.jsx)("td",{children:Object(b.jsx)(d.a,{color:"btn btn-outline-primary btn-sm ",style:{fontSize:11,marginLeft:10},title:"Ver detalles",onClick:e.viewDetails,id:t.id,children:Object(b.jsx)("span",{className:"fas fa-eye",id:t.id})})})]})})):"Sin registros..."})]})]}),Object(b.jsx)(d.l,{children:Object(b.jsx)(d.a,{color:"secondary",size:"sm",outline:!0,onClick:this.props.toggle,children:"Cancelar"})})]})]})}}]),n}(s.Component),v=n(14);var g=function(e){var t=Object(s.useState)(!1),n=Object(v.a)(t,2),i=n[0],c=n[1],a=function(){return c(!i)},o=function(e){var t=[];switch(e.modalTip){case"Details":t={inputs:[[{text:"Empresa",size:"3",type:"text",name:"inputEmpresa",value:e.detailSelect?e.detailSelect.empresa:""},{text:"Empresa",size:"3",type:"text",name:"inputDetailList",hidden:!0,value:e.detailSelect?e.detailSelect.conjunto:""},{text:"Empresa",size:"3",type:"text",name:"inputIdDetail",hidden:!0,value:e.detailSelect?e.detailSelect.id:""},{text:"Conjunto",size:"3",type:"text",name:"inputConjunto",value:e.detailSelect?e.detailSelect.subconunto:""},{text:"Origen",size:"3",type:"text",name:"inputOrigin",value:e.detailSelect?e.detailSelect.origin:""},{text:"Usuario",size:"3",type:"text",name:"inputUser",value:e.detailSelect?e.detailSelect.user:""}],[{text:"Puesto",size:"3",type:"text",name:"inputPuesto",value:e.detailSelect?e.detailSelect.puesto:""},{text:"Descripcion",size:"3",name:"inputDescription",value:e.detailSelect?e.detailSelect.description:""},{text:"Vencimiento",size:"3",type:"date",name:"inputVencimiento",value:e.detailSelect?e.detailSelect.fechaVencimiento:""},{text:"Costo",size:"3",type:"mail",name:"inputCosto",value:e.detailSelect?e.detailSelect.costo:""}]],BModal:{title:"Detalle de Factura",icon:"fas fa-plus"},HModal:{title:"Guardar"},FModal:[{text:"Asignar",action:e.btnOk,color:"success"}],ConfigModal:{size:"lg"}};break;case"NewProveedor":t={inputs:[[{text:"Proveedor",size:"4",type:"text",name:"inputNameProv"},{text:"No Proveedor",size:"4",type:"text",name:"inputNoProv"},{text:"Descripcion",size:"4",type:"text",name:"inputDescripcionProv"}],[{text:"Nombre Contacto",size:"4",type:"text",name:"inputNameConProv"},{text:"Telefono",size:"4",type:"number",name:"inputNumbProv"},{text:"Correo",size:"4",type:"mail",name:"inputMailProv"}]],BModal:{title:"Crear Proveedor",icon:"fas fa-plus"},HModal:{title:"Asignar Factura"},FModal:[{text:"Crear",action:e.btnOk,color:"success"}],ConfigModal:[{size:"md"}]};break;case"AsignarProcess":t={inputs:[[{text:"Factura",size:"6",type:"text",name:"inputFactura"},{text:"Monto Real",size:"6",type:"text",name:"inputMonto"},{text:"Monto Real",size:"6",type:"text",name:"inputCategory",hidden:!0,value:e.currendProcess.idCategory},{text:"Monto Real",size:"6",type:"text",name:"inputRecordid",hidden:!0,value:e.currendProcess.idrecord},{text:"Monto Real",size:"6",type:"text",name:"inputtype",hidden:!0,value:1},{text:"Monto Real",size:"6",type:"text",name:"inputprov",hidden:!0,value:e.currendProcess.idProv},{text:"Monto Real",size:"6",type:"text",name:"inputnoempl",hidden:!0,value:window.noempl}]],BModal:{title:"Asignar Factura",icon:"fas fa-plus"},HModal:{title:"Asignar Factura"},FModal:[{text:"Asignar",action:e.btnOk,color:"success"}],ConfigModal:[{size:"md"}]};break;case"NewProcessProgramado":t={inputs:[[{text:"D\xeda",size:"2",type:"number",name:"inputDay"},{text:"Descripcion",size:"6",type:"text",name:"inputDescription"},{text:"Monto",size:"4",type:"number",name:"inputMonto"}],[{text:"Frecuencia",size:"4",type:"select",name:"inputType",options:[{value:"12",text:"MENSUAL"},{value:"6",text:"BIMESTRAL"},{value:"4",text:"TRIMESTRAL"},{value:"2",text:"SEMESTRAL"},{value:"1",text:"UNICO"}]},{text:"Primer Mes",size:"4",type:"select",name:"inputMesPago",options:[{value:"1",text:"Enero"},{value:"2",text:"Febrero"},{value:"3",text:"Marzo"},{value:"4",text:"Abril"},{value:"5",text:"Mayo"},{value:"6",text:"Junio"},{value:"7",text:"Julio"},{value:"9",text:"Agosto"},{value:"10",text:"Septiembre"},{value:"11",text:"Octubre"},{value:"11",text:"Noviembre"},{value:"12",text:"Diciembre"}]},{text:"Solicitar por",size:"4",type:"select",name:"inputSolicitud",options:[{value:"correo",text:"CORREO"},{value:"telefono",text:"TELEFONO"},{value:"pagina",text:"PAGINA"}]}],[{text:"Lista detalles",size:"4",type:"select",name:"inputConjunto",options:[{value:"TELEFONIA MOVIL",text:"TELEFONIA MOVIL"},{value:"COMUNUCACIONES TELMEX",text:"COMUNICACIONES TELMEX"},{value:"COMUNUCACIONES ALESTRA",text:"COMUNICACIONES ALESTRA"},{value:"COMUNUCACIONES TOTALPLAY",text:"COMUNICACIONES TOTALPLAY"}]},{text:"Proveedor",size:"4",type:"select",name:"inputProv",options:e.provLsSelect},{text:"Categoria",size:"4",type:"select",name:"inputCategoria",options:e.catLsSelect}],[{type:"radio",name:"inputMoneda",value:"USD"}],[{type:"radio",name:"inputVariable",value:"Variable"}]],BModal:{title:"Agregar Proveedor",icon:"fas fa-plus"},HModal:{title:"Agregar Evento Programado"},FModal:[{text:"Agregar Repeticion",action:e.addRep,color:"success"}],ConfigModal:[{size:"md"}]}}return t}(e);return Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{hidden:!!e.hiddenBtnModal,color:"btn btn-outline-info btn-sm",onClick:a,id:"modalAdjuntarProcess",style:{fontSize:10,width:26,height:25,margin:0},title:o.BModal.title,children:Object(b.jsx)("span",{className:o.BModal.icon})}),Object(b.jsxs)(d.j,{id:"ModalUser1",isOpen:i,toggle:a,size:o.ConfigModal.size,className:"small",children:[Object(b.jsx)(d.m,{toggle:a,className:"bg-info text-white",children:o.HModal.title}),Object(b.jsx)(d.k,{children:o.inputs.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(d.q,{style:{paddingTop:"0px"},children:e.map((function(e,t){return e.hidden?Object(b.jsx)(d.h,{type:e.type,bsSize:"xs",id:e.name,hidden:e.hidden,defaultValue:e.value},t):Object(b.jsx)(d.b,{sm:e.size,children:"select"===e.type?Object(b.jsxs)(d.g,{floating:!0,children:[Object(b.jsx)(d.h,{type:e.type,bsSize:"xs",id:e.name,defaultValue:e.value,children:e.options.map((function(e,t){return Object(b.jsx)("option",{value:e.value,children:e.text},t)}))},t),Object(b.jsx)(d.i,{for:e.name,children:e.text})]}):"radio"===e.type?Object(b.jsxs)(d.g,{switch:!0,children:[Object(b.jsx)(d.h,{type:"switch",id:e.name}),Object(b.jsx)(d.i,{for:e.name,children:e.value})]}):Object(b.jsxs)(d.g,{floating:!0,style:{fontSize:12},children:[Object(b.jsx)(d.h,{type:e.type,bsSize:"md",id:e.name,hidden:e.hidden,defaultValue:e.value,placeholder:e.text},t),Object(b.jsx)(d.i,{style:{},for:e.name,children:e.text})]})},t)}))})},t)}))}),Object(b.jsxs)(d.l,{children:[Object(b.jsx)(d.a,{color:"secondary",size:"sm",outline:!0,onClick:a,children:"Cancelar"}),o.FModal.map((function(e,t){return"Eliminar"===e.text?window.superUs?Object(b.jsx)(d.a,{color:e.color,size:"sm",outline:!0,onClickCapture:a,onClick:e.action,children:e.text},t):"":Object(b.jsx)(d.a,{color:e.color,size:"sm",outline:!0,onClickCapture:a,onClick:e.action,children:e.text},t)}))]})]})]})},f=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).toggle=function(){s.setState({modal:!s.state.modal}),!0===s.state.modal&&s.props.refreshReport()},s.viewModalInfo=function(e){s.setState({currendProcess:e}),null===e.idProcess||e.idProcess<1?m()({icon:"warning",text:"No existe factura, se creara una nueva, \xbfOK? ",buttons:{cancel:!0,confirm:!0}}).then((function(e){e?document.getElementById("modalAdjuntarProcess").click():m()({title:"Cancelado",timer:500,icon:"error",buttons:!1})})):(s.setDataParts(e.idProcess),s.toggle(),s.setState({modal:!s.state.modal}))},s.setDataFetch=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.setDataParts=function(e){var t=new FormData;t.append("optionService","SelectParts"),t.append("process",e),s.setDataFetch(t).then((function(e){e.OK?s.setState({partsLs:e.json}):s.setState({partsLs:[]}),console.log(e)}))},s.asignarFactura=function(){var e=new FormData;e.append("optionService","AsignarFactura"),e.append("document",document.getElementById("inputFactura").value),e.append("idrecord",document.getElementById("inputRecordid").value),e.append("monto",document.getElementById("inputMonto").value),e.append("inputCategory",document.getElementById("inputCategory").value),e.append("type",document.getElementById("inputtype").value),e.append("prov",document.getElementById("inputprov").value),e.append("noempl",document.getElementById("inputnoempl").value),s.setDataFetch(e).then((function(){s.props.refreshReport()}))},s.state={modal:!1,currendProcess:"",processLs:[],partsLs:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{provLsSelect:this.state.provLsSelect,catLsSelect:this.state.catLsSelect,btnOk:this.asignarFactura,modalTip:"AsignarProcess",hiddenBtnModal:!0,currendProcess:this.state.currendProcess,refreshReport:this.props.refreshReport}),Object(b.jsx)(O,{toggle:this.toggle,modal:this.state.modal,refreshReport:this.props.refreshReport,process:this.state.currendProcess,partsLs:this.state.partsLs,getDataParts:this.setDataParts}),Object(b.jsx)("div",{className:"d-flex justify-content-center ",style:{marginTop:20},children:Object(b.jsx)("div",{className:"",style:{width:"100%"},children:Object(b.jsx)("div",{style:{maxHeight:420,overflow:"auto"},className:"NotScroll",children:Object(b.jsxs)(d.r,{className:"table table-hover ",style:{},children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Servicio"}),Object(b.jsx)("th",{children:"Descripcion"}),Object(b.jsx)("th",{children:"Fecha Esperada"}),Object(b.jsx)("th",{children:"Proveedor"}),Object(b.jsx)("th",{children:"Monto Esperado"}),Object(b.jsx)("th",{children:"Factura"}),Object(b.jsx)("th",{children:"Monto Real"}),Object(b.jsx)("th",{children:"OC"}),Object(b.jsx)("th",{children:"FP"}),Object(b.jsx)("th",{children:"Confirmacion"})]})}),Object(b.jsx)("tbody",{style:{},children:this.props.reportLs.length>0?this.props.reportLs.map((function(t,n){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("tr",{onClick:e.viewModalInfo.bind(e,t),style:{background:"1"===t.variable?"#D4E6F1":""},children:[Object(b.jsx)("td",{children:t.servicio}),Object(b.jsx)("td",{children:t.descripcionServ}),Object(b.jsx)("td",{children:t.date}),Object(b.jsx)("td",{children:t.prov}),Object(b.jsxs)("td",{style:{textAlign:"right"},children:["$",parseInt(t.montoEsperado).toLocaleString("en-US"),"1"===t.usd?" USD":" MXN"]}),t.factura?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("td",{children:t.factura}),Object(b.jsxs)("td",{style:{textAlign:"right"},children:[parseInt(t.montoReal).toLocaleString("en-US")," ","1"===t.usd?" USD":" MXN"]}),parseInt(t.cantidadoc)-1===0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("td",{children:t.oc?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("b",{children:t.oc})," / ",t.dateOc.substr(0,10)]}):""}),Object(b.jsx)("td",{children:t.fp?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("b",{children:t.fp})," / ",t.dateFp.substr(0,10)]}):""}),Object(b.jsx)("td",{children:t.datePay})]}):parseInt(t.cantidadoc)>1?Object(b.jsx)("td",{colSpan:6,className:"text-center",children:"La factura contiene mas de un OC"}):Object(b.jsx)("td",{colSpan:6,className:"text-center"})]}):Object(b.jsx)("td",{colSpan:8,className:"text-center"})]},n)})})):""})]})})})})]})}}]),n}(s.Component),y=n(15),S=n(77),C=function(e){var t=Object(s.useState)(),n=Object(v.a)(t,2),i=(n[0],n[1],Object(s.useState)({})),c=Object(v.a)(i,2),a=(c[0],c[1],Object(s.useState)(e.timer?e.timer:1)),o=Object(v.a)(a,2),r=o[0],l=(o[1],Object(s.useState)(Math.floor(5*Math.random()+84))),d=Object(v.a)(l,2),p=d[0],j=(d[1],Object(s.useState)(!1===e.finish?0:p+1)),h=Object(v.a)(j,2),u=h[0],m=h[1];return Object(s.useEffect)((function(){var t=setInterval((function(){m((function(t){return t<p&&!1===e.finish?t+1:t===p&&!1===e.finish?p:!0===e.finish&&t<100?t+1:100}))}),u<=p-80&&!1===e.finish?30*r:u<=p-65&&!1===e.finish?50*r:u<=p-45&&!1===e.finish?75*r:u<=p-35&&!1===e.finish?120*r:u<=p-20&&!1===e.finish?400*r:u<=p-15&&!1===e.finish?750*r:u<=p-5&&!1===e.finish?1e3*r:u<=p-3&&!1===e.finish?2e3*r:(u<=p-1||u<=p)&&!1===e.finish?4e3*r:.001*r);return function(){clearInterval(t)}})),Object(b.jsx)("div",{style:{width:"100%"},className:"d-flex justify-content-center",children:Object(b.jsxs)("div",{style:{width:e.width,height:1.5*e.width,background:"",position:"relative"},children:[Object(b.jsxs)(S.a.div,{initial:{scale:1,opacity:1},animate:{scale:1.05,opacity:.8},transition:{ease:"linear",duration:.8,repeat:1/0,repeatType:"reverse"},children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"./tato.png",style:{width:e.width,height:1.5*e.width,filter:" grayscale(1)"}})}),Object(b.jsx)(S.a.div,{initial:{position:"absolute",bottom:0,background:"",overflow:"hidden",width:e.width,height:.01*e.width},animate:{height:e.width*u*1.5/100},transition:{duration:u<35&&!1===e.finish?.1:u<55&&!1===e.finish?.35:.001},children:Object(b.jsx)("img",{src:"./tato.png",style:{position:"absolute",bottom:0,width:e.width,height:1.5*e.width,filter:""}})}),Object(b.jsxs)("p",{style:{position:"absolute",background:"white",top:e.width/1,left:e.width/2.4,borderRadius:6e3,width:50,height:50,padding:u<10?"12px 12px":u>99?"12px 1px":"12px 5px"},children:["  ",u,"%"]})]}),Object(b.jsx)(S.a.div,{drag:"asdasdasdkjas;lkjdlaskjdlkj"})]})})},P=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).mounthsOptions=[{value:"0",label:"Todos"},{value:"1",label:"Enero"},{value:"2",label:"Febrero"},{value:"3",label:"Marzo"},{value:"4",label:"Abril"},{value:"5",label:"Mayo"},{value:"6",label:"Junio"},{value:"7",label:"Julio"},{value:"8",label:"Agosto"},{value:"9",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}],e.colourOptions=[{value:"chocolate",label:"Chocolate"}],e.getDataReport=function(){var e=Object(h.a)(j.a.mark((function e(t,n){var s,i,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.length>2&&void 0!==a[2]?a[2]:"",(i=new FormData).append("optionService","SelectOptionsReport"),i.append("type",t),i.append("search",n),i.append("extraInfo",s),e.next=8,fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:i,header:new Headers({"Content-Type":"application/json"})});case 8:return c=e.sent,e.next=11,c.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.componentDidMount=function(){},e.onInputChange=function(e,t){},e.refreshReport=function(){e.setState({loading:!0,consult:!1});var t=e.state.provSelect+"-"+e.state.catSelect+"-"+e.state.anoLs;e.getDataReport("mes",e.state.mountSelect,t).then((function(t){e.setState({reportLs:t.json,loading:!0,consult:!1})}))},e.selectOptions=function(t,n,s){var i="",c="";if(e.setState({consult:!1}),t.map((function(e){i+="'"+e.value+"',"})),i=i.substr(0,i.length-1),"ano"===n.name)return t.map((function(e){i+="'"+e.value+"',"})),i=i.substr(0,i.length-1),e.setState({mounths:!1,provLs:[],factLs:[],reportLs:[],categoryLs:[]}),void e.getDataReport("inicial",i).then((function(t){return e.setState({categoryLs:t.json,anoLs:i})}));"category"===n.name?(e.setState({mounths:!1,provLs:[],factLs:[],reportLs:[]}),c=e.state.anoLs):"prov"===n.name?e.setState({mounths:!1,reportLs:[]}):"mes"===n.name&&(e.setState({loading:!0,consult:!1}),t.map((function(n,s){"Todos"===n.label&&(t.map((function(e,n){return delete t[n]})),e.mounthsOptions.map((function(e){"0"!==e.value&&t.push(e)})))})),t.map((function(e){i+="'"+e.value+"',"})),i=i.substr(0,i.length-1),c=e.state.provSelect+"-"+e.state.catSelect+"-"+e.state.anoLs),e.getDataReport(n.name,i,c).then((function(t){"mes"===n.name&&(e.setState({mountSelect:i,reportLs:t.json,finish:!0}),setTimeout((function(){e.setState({loading:!1,consult:!0,finish:!1})}),500)),"category"===n.name&&e.setState({catSelect:i,provLs:t.json}),"prov"===n.name&&e.setState({mounths:!0,provSelect:i})}))},e.state={categoryLs:[],provLs:[],factLs:[],reportLs:[],mounths:!1,mountSelect:"",provSelect:"",catSelect:"",factSelect:"",value:"",anoLs:"",finish:!1,timer:.5,consult:!1,loading:!1},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(b.jsxs)("div",{style:{width:300,maxWidth:300,margin:"0px 10px 0px 20px"},children:[Object(b.jsx)("p",{className:"text-center",children:"A\xf1o"}),Object(b.jsx)(y.a,{placeholder:Object(b.jsx)("div",{className:"Select-placeholder",children:"Servicio"}),id:"SSS",ref:this.state.value,closeMenuOnSelect:!1,isMulti:!0,isClearable:!0,isSearchable:!0,name:"ano",onChange:this.selectOptions,options:[{value:"2022",label:"2022"},{value:"2023",label:"2023"}]})]}),Object(b.jsxs)("div",{style:{width:300,maxWidth:300,margin:"0px 10px 0px 20px"},children:[Object(b.jsx)("p",{className:"text-center",children:"Servicio"}),this.state.categoryLs.length>0?Object(b.jsx)(y.a,{placeholder:Object(b.jsx)("div",{className:"Select-placeholder",children:"Servicio"}),id:"SSS",ref:this.state.value,closeMenuOnSelect:!1,isMulti:!0,isClearable:!0,isSearchable:!0,name:"category",onChange:this.selectOptions,options:this.state.categoryLs}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(y.a,{})})]}),Object(b.jsxs)("div",{style:{width:600,margin:"0px 10px"},children:[Object(b.jsx)("p",{className:"text-center",children:"Proveedor"}),this.state.provLs.length>0&&this.state.categoryLs.length>0?Object(b.jsx)(y.a,{closeMenuOnSelect:!1,isMulti:!0,isSearchable:!0,name:"prov",onChange:this.selectOptions,options:this.state.provLs}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(y.a,{})})]}),Object(b.jsxs)("div",{style:{width:800,maxWidth:800,margin:"0px 20px 0 10px"},children:[Object(b.jsx)("p",{className:"text-center",children:"Mes"}),this.state.mounths?Object(b.jsx)(y.a,{closeMenuOnSelect:!1,isMulti:!0,isSearchable:!0,name:"mes",onChange:this.selectOptions,options:this.mounthsOptions}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(y.a,{})})]})]}),Object(b.jsx)("div",{className:"d-flex bg-",style:{maxHeight:"70vh"},children:Object(b.jsx)("div",{className:"NotScroll",style:{width:"100vw",padding:"0 10px",overflowY:"auto"},children:this.state.consult?Object(b.jsx)(f,{reportLs:this.state.reportLs,refreshReport:this.refreshReport}):this.state.loading?Object(b.jsx)(C,{width:300,finish:this.state.finish}):""})})]})}}]),n}(s.Component),L=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).getProvData=function(){var t=new FormData;t.append("optionService","SelectProv"),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){var n=t.json.map((function(e,t){return{value:e.id,text:e.prov}}));e.setState({provLsSelect:n})}))},e.getCatData=function(){var t=new FormData;t.append("optionService","SelectCategory"),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){var n=t.json.map((function(e,t){return{value:e.id,text:e.description}}));e.setState({catLsSelect:n})}))},e.componentDidMount=function(){e.getProvData(),e.getCatData(),e.getRecordData()},e.addRep=function(){var t=new FormData;t.append("optionService","InsertRepetido"),t.append("day",document.getElementById("inputDay").value),t.append("type",document.getElementById("inputType").value),t.append("soli",document.getElementById("inputSolicitud").value),t.append("prov",document.getElementById("inputProv").value),t.append("category",document.getElementById("inputCategoria").value),t.append("description",document.getElementById("inputDescription").value),t.append("monto",document.getElementById("inputMonto").value),t.append("conjunto",document.getElementById("inputConjunto").value),t.append("mesPago",document.getElementById("inputMesPago").value),t.append("moneda",document.getElementById("inputMoneda").checked),t.append("variable",document.getElementById("inputVariable").checked),t.append("noempl",window.noempl),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(){e.getRecordData()}))},e.getRecordData=function(){var t=new FormData;t.append("optionService","SelectRecord"),t.append("noempl",window.noempl),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({recordLs:t.json}),setTimeout((function(){}),1e3)}))},e.state={provLsSelect:[],catLsSelect:[],recordLs:[]},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"d-flex  align-items-center flex-column",style:{marginTop:20},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"text-center",children:"Pagos programados"}),Object(b.jsxs)(d.r,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)(g,{provLsSelect:this.state.provLsSelect,catLsSelect:this.state.catLsSelect,addRep:this.addRep,modalTip:"NewProcessProgramado"})}),Object(b.jsx)("th",{children:"Proveedor"}),Object(b.jsx)("th",{children:"Descripcion"}),Object(b.jsx)("th",{children:"Dia"}),Object(b.jsx)("th",{children:"Solicitar Fac."}),Object(b.jsx)("th",{children:"Categoria"})]})}),Object(b.jsx)("tbody",{children:this.state.recordLs.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{}),Object(b.jsx)("td",{children:e.prov}),Object(b.jsx)("td",{children:e.description}),Object(b.jsx)("td",{children:e.day}),Object(b.jsx)("td",{children:e.solicitud}),Object(b.jsx)("td",{children:e.servicio})]})}))})]})]})})})}}]),n}(s.Component),w=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).setData=function(){var t=new FormData;t.append("prov",document.getElementById("inputProv").value),t.append("document",document.getElementById("inputDocument").value),t.append("type",document.getElementById("inputType").value),t.append("monto",document.getElementById("montoProcess").value),t.append("optionService","InsertProcess"),t.append("noempl",window.noempl),t.append("inputCategory",document.getElementById("inputCategory").value),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(){e.props.setDataProcess()}))},e.selectProvs=function(){var t=new FormData;t.append("optionService","SelectProv"),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({provLs:t.json})}))},e.selectCategory=function(){var t=new FormData;t.append("optionService","SelectCategory"),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({categoryLs:t.json})}))},e.toggle=function(){e.setState({modal:!e.state.modal})},e.componentDidMount=function(){e.selectProvs(),e.selectCategory()},e.state={modal:!1,provLs:[],categoryLs:[]},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d.a,{color:"btn btn-outline-primary btn-sm ",style:{fontSize:11},title:"Agregar Proceso",onClick:this.toggle,children:Object(b.jsx)("span",{className:"fas fa-plus"})}),Object(b.jsxs)(d.j,{id:"ModalUser1",isOpen:this.state.modal,toggle:this.toggle,size:"lg",className:"small",children:[Object(b.jsx)(d.m,{className:"bg-info text-white",children:"Generar Nuevo Proceso"}),Object(b.jsxs)(d.k,{children:[Object(b.jsxs)(d.q,{children:[Object(b.jsx)(d.b,{sm:4,children:Object(b.jsxs)("p",{children:["Proveedor",Object(b.jsx)(d.a,{color:"btn btn-outline-primary btn-sm ",style:{fontSize:11,marginLeft:25},title:"Agregar parte",onClick:this.viewProvs,children:Object(b.jsx)("span",{className:"fas fa-eye"})})]})}),Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)("p",{children:"Numero de documento"})}),Object(b.jsx)(d.b,{sm:3,children:Object(b.jsx)("p",{children:"Monto"})})]}),Object(b.jsxs)(d.q,{children:[Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)(d.h,{type:"select",id:"inputProv",children:this.state.provLs?this.state.provLs.map((function(e,t){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("option",{value:e.id,index:t,children:[" ",e.noProv,"-",e.prov]})})})):"a"})}),Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)(d.h,{type:"text",id:"inputDocument"})}),Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)(d.h,{type:"number",id:"montoProcess"})})]}),Object(b.jsxs)(d.q,{children:[Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)("p",{children:"Categoria"})}),Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)("p",{children:"Tipo de Compra"})})]}),Object(b.jsxs)(d.q,{children:[Object(b.jsx)(d.b,{sm:4,children:Object(b.jsx)(d.h,{type:"select",id:"inputCategory",children:this.state.categoryLs?this.state.categoryLs.map((function(e,t){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("option",{value:e.id,index:t,children:[" ",e.description]})})})):"a"})}),Object(b.jsx)(d.b,{sm:4,children:Object(b.jsxs)(d.h,{type:"select",id:"inputType",children:[Object(b.jsx)("option",{value:1,children:" Pago de servicio"}),Object(b.jsx)("option",{value:2,children:" Compra interna"}),Object(b.jsx)("option",{value:1,children:" Compra a provedores directos"})]})})]})]}),Object(b.jsxs)(d.l,{children:[Object(b.jsx)(d.a,{color:"secondary",size:"sm",outline:!0,onClick:this.toggle,children:"Cancelar"}),Object(b.jsx)(d.a,{id:"guardarPart",color:"success",size:"sm",outline:!0,onClickCapture:this.toggle,onClick:this.setData,children:"Guardar"})]})]})]})}}]),n}(s.Component),E=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).toggle=function(){e.setState({modal:!e.state.modal})},e.viewModalInfo=function(t){e.setDataParts(t.id),e.toggle(),e.setState({currendProcess:t,modal:!e.state.modal})},e.setData=function(){var t=new FormData;t.append("optionService","SelectProcess"),t.append("noempl",window.noempl),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){t.OK?e.setState({processLs:t.json}):e.setState({processLs:[]}),console.log(t)}))},e.setDataParts=function(t){var n=new FormData;n.append("optionService","SelectParts"),n.append("process",t),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:n,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){t.OK?e.setState({partsLs:t.json}):e.setState({partsLs:[]}),console.log(t)}))},e.state={modal:!1,currendProcess:"",processLs:[],partsLs:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setData()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{toggle:this.toggle,modal:this.state.modal,process:this.state.currendProcess,partsLs:this.state.partsLs,getDataParts:this.setDataParts}),Object(b.jsx)("div",{className:"d-flex justify-content-center ",style:{marginTop:20},children:Object(b.jsxs)("div",{className:"",style:{},children:[Object(b.jsxs)(d.h,{type:"select",children:[Object(b.jsx)("option",{value:1,children:"Abiertos"}),Object(b.jsx)("option",{value:2,children:"Cerrados"}),Object(b.jsx)("option",{value:3,children:"All"})]}),Object(b.jsx)("div",{style:{maxHeight:420,overflow:"auto"},children:Object(b.jsxs)(d.r,{className:"table table-hover ",style:{maxWidth:800},children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{children:[Object(b.jsx)(w,{setDataProcess:this.setData})," "]}),Object(b.jsx)("th",{children:"Documento"}),Object(b.jsx)("th",{children:"Monto"}),Object(b.jsx)("th",{children:"Estado"}),Object(b.jsx)("th",{children:"Tipo"})]})}),Object(b.jsxs)("tbody",{style:{},children:[" ",this.state.processLs.length>0?this.state.processLs.map((function(t,n){return Object(b.jsxs)("tr",{onClick:e.viewModalInfo.bind(e,t),children:[Object(b.jsx)("td",{children:t.id}),Object(b.jsx)("td",{children:t.document}),Object(b.jsxs)("td",{children:["$",t.monto]}),Object(b.jsx)("td",{children:"1"===t.open?"Abierto":"Terminado"}),Object(b.jsx)("td",{children:"1"===t.type?"Pago de Servicio":"2"===t.type?"Compra Interna":"Pago Proveedores Directo"})]},n)})):"a"]})]})})]})})]})}}]),n}(s.Component),D=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).addProv=function(){var t=new FormData;t.append("optionService","InsertProv"),t.append("noempl",window.noempl),t.append("noProv",document.getElementById("inputNoProv").value),t.append("nameProv",document.getElementById("inputNameProv").value),t.append("des",document.getElementById("inputDescripcionProv").value),t.append("name",document.getElementById("inputNameConProv").value),t.append("numProv",document.getElementById("inputNumbProv").value),t.append("mailProv",document.getElementById("inputMailProv").value),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(){e.setProv()}))},e.setProv=function(){var t=new FormData;t.append("optionService","SelectProv"),fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({proveedoresLs:t.json})}))},e.componentDidMount=function(){e.setProv()},e.state={proveedoresLs:[]},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:20},children:Object(b.jsx)("div",{children:Object(b.jsxs)(d.r,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)(g,{modalTip:"NewProveedor",btnOk:this.addProv})}),Object(b.jsx)("th",{children:"No Proveedor"}),Object(b.jsx)("th",{children:"Proveedor"}),Object(b.jsx)("th",{children:"Descripcion"}),Object(b.jsx)("th",{children:"Contacto"}),Object(b.jsx)("th",{children:"Telefono"}),Object(b.jsx)("th",{children:"Correo"})]})}),Object(b.jsx)("tbody",{children:this.state.proveedoresLs.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{}),Object(b.jsx)("td",{children:e.noProv}),Object(b.jsx)("td",{children:e.prov}),Object(b.jsx)("td",{children:e.description}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.phone}),Object(b.jsx)("td",{children:e.mail})]})}))})]})})})})}}]),n}(s.Component);var I=function(e){var t=Object(s.useState)(!1),n=Object(v.a)(t,2),i=n[0],c=n[1];return Object(b.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:25},children:Object(b.jsxs)(d.n,{pills:!0,style:{maxWidth:1e3},children:[Object(b.jsx)(d.o,{onClick:e.selectModule.bind(this,"viewHome"),children:Object(b.jsx)(d.p,{href:"#",style:{marginRight:20},children:"Informe"})}),Object(b.jsxs)(d.c,{nav:!0,isOpen:i,toggle:function(){return c(!i)},style:{marginRight:20},children:[Object(b.jsx)(d.f,{nav:!0,caret:!0,children:"Consultas"}),Object(b.jsxs)(d.e,{children:[Object(b.jsxs)(d.d,{onClick:e.selectModule.bind(this,"viewPendientes"),children:[" ","Pagos Programados"]}),Object(b.jsxs)(d.d,{onClick:e.selectModule.bind(this,"viewProveedores"),children:[" ","Proveedores"]}),Object(b.jsx)(d.d,{onClick:e.selectModule.bind(this,"viewListDetails"),children:"Lista de detalles"})]})]})]})})},z=(n(67),function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).dataFetch=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://diniz.com.mx/diniz/servicios/services/mpagos_service.php",{method:"POST",body:t,header:new Headers({"Content-Type":"application/json"})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.selectDetails=function(){var t=document.getElementById("listDetails").value,n=new FormData;n.append("optionService","SelectDetailsList"),n.append("conjunto",t),e.dataFetch(n).then((function(t){console.log(t.json),e.setState({detailsLs:t.json})}))},e.openModalEdit=function(t){e.setState({detailSelect:t}),document.getElementById("modalAdjuntarProcess").click()},e.componentDidMount=function(){e.selectDetails()},e.editDetail=function(){var t=new FormData;t.append("optionService","UpdateDetailForList"),t.append("costo",document.getElementById("inputCosto").value),t.append("vencimiento",document.getElementById("inputVencimiento").value),t.append("puesto",document.getElementById("inputPuesto").value),t.append("user",document.getElementById("inputUser").value),t.append("origin",document.getElementById("inputOrigin").value),t.append("conjunto",document.getElementById("inputConjunto").value),t.append("empresa",document.getElementById("inputEmpresa").value),t.append("idDetail",document.getElementById("inputIdDetail").value),t.append("description",document.getElementById("inputDescription").value),t.append("detailList",document.getElementById("inputDetailList").value),e.dataFetch(t).then((function(){return e.selectDetails()}))},e.insertDetail=function(){var t=new FormData;t.append("optionService","InsertDetailForList"),t.append("costo",document.getElementById("inputCosto").value),t.append("vencimiento",document.getElementById("inputVencimiento").value),t.append("puesto",document.getElementById("inputPuesto").value),t.append("user",document.getElementById("inputUser").value),t.append("origin",document.getElementById("inputOrigin").value),t.append("conjunto",document.getElementById("inputConjunto").value),t.append("empresa",document.getElementById("inputEmpresa").value),t.append("description",document.getElementById("inputDescription").value),t.append("detailList",document.getElementById("inputDetailList").value),e.dataFetch(t).then((function(){return e.selectDetails()}))},e.state={detailsLs:!1,detailSelect:!1},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)(g,{modalTip:"Details",hiddenBtnModal:!0,detailSelect:this.state.detailSelect,btnOk:this.editDetail}),Object(b.jsx)("div",{children:Object(b.jsxs)(d.h,{type:"select",id:"listDetails",onChange:this.selectDetails,children:[Object(b.jsx)("option",{value:"TELEFONIA MOVIL",children:"TELEFONIA MOVIL"}),Object(b.jsx)("option",{value:"COMUNICACIONES TELMEX",children:"COMUNICACIONES TELMEX"}),Object(b.jsx)("option",{value:"COMUNICACIONES TOTALPLAY",children:"COMUNICACIONES TOTALPLAY"}),Object(b.jsx)("option",{value:"COMUNICACIONES ALESTRA",children:"COMUNICACIONES ALESTRA"})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)(d.r,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)(g,{modalTip:"Details",hiddenBtnModal:!1,detailSelect:!1,btnOk:this.insertDetail})}),Object(b.jsx)("th",{children:"Empresa"}),Object(b.jsx)("th",{children:"Conjunto"}),Object(b.jsx)("th",{children:"Origen"}),Object(b.jsx)("th",{children:"Usuario"}),Object(b.jsx)("th",{children:"Puesto"}),Object(b.jsx)("th",{children:"Descripcion"}),Object(b.jsx)("th",{children:"Vencimiento"}),Object(b.jsx)("th",{children:"Costo"})]})}),Object(b.jsx)("tbody",{children:this.state.detailsLs?this.state.detailsLs.map((function(t){return Object(b.jsxs)("tr",{onClick:e.openModalEdit.bind(e,t),children:[Object(b.jsx)("td",{}),Object(b.jsx)("td",{children:t.empresa}),Object(b.jsx)("td",{children:t.subconunto}),Object(b.jsx)("td",{children:t.origin}),Object(b.jsx)("td",{children:t.user}),Object(b.jsx)("td",{children:t.puesto}),Object(b.jsx)("td",{children:t.description}),Object(b.jsx)("td",{children:t.fechaVencimiento}),Object(b.jsxs)("td",{children:["$",t.costo]})]})})):""})]})})]})}}]),n}(s.Component));window.noempl=37604;var M=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).usuario_con=function(t){var n={sesionid:t},s={method:"POST",body:JSON.stringify(n),header:new Headers({"Content-Type":"application/json",Accept:"application/json"})};fetch("https://Diniz.com.mx/diniz/servicios/services/pn_sesion_con2.php",s).then((function(e){return e.json()})).then((function(t){"x"!==t[0].usuarios.noempl?(e.setState({nombre:t[0].usuarios.nombre}),e.setState({noempl:t[0].usuarios.noempl}),e.setState({curnoempl:t[0].usuarios.noempl}),e.setState({puesto:t[0].usuarios.puesto}),e.setState({DatosUsuario:t[0].usuarios}),e.setState({sesionid:t[0].usuarios.uniqueid}),window.empl=t[0].usuarios.noempl):(e.setState({DatosUsuario:[]}),window.location.replace("https://Diniz.com.mx/index.html"))})).catch((function(e){return console.log(e)}))},e.getPerfil=function(t){var n={noempl:t},s={method:"POST",body:JSON.stringify(n),header:new Headers({"Content-Type":"application/json",Accept:"application/json"})};fetch("https://Diniz.com.mx/diniz/servicios/services/ti_getPerfil.php",s).then((function(e){return e.json()})).then((function(t){"x"!==t[0].perfilid?e.setState({perfilid:t[0].perfilid}):(e.setState({DatosPerfil:[]}),window.location.replace("https://Diniz.com.mx/gd/index.html"))})).catch((function(e){return console.log(e)}))},e.getQueryVariable=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var s=t[n].split("=");if(s[0]===e)return s[1]}return!1},e.goSalir=function(){var t="https://diniz.com.mx/index.html?id="+e.state.sesionid;window.location.replace(t)},e.selectModule=function(t){e.setState({modulo:t})},e.state={modulo:0},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){if(!1!==this.getQueryVariable("id")){var e=this.getQueryVariable("id");this.usuario_con(e)}else window.location.replace("https://diniz.com.mx/")}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{background:"#AED6F1"},children:Object(b.jsxs)(d.q,{style:{paddingTop:10},children:[Object(b.jsx)(d.b,{sm:2}),Object(b.jsx)(d.b,{sm:8,style:{textAlign:"center",color:"white"},children:Object(b.jsx)("h2",{children:"Control de pagos"})}),Object(b.jsx)(d.b,{sm:2,style:{textAlign:"left"},children:Object(b.jsx)(d.a,{outline:!0,color:"danger",size:"sm",id:"toggler4",onClick:this.goSalir.bind(),style:{marginBottom:"1rem"},children:"Salir"})})]})}),Object(b.jsx)(I,{selectModule:this.selectModule}),"viewProcess"===this.state.modulo?Object(b.jsx)(E,{}):"viewPendientes"===this.state.modulo?Object(b.jsx)(L,{}):"viewHome"===this.state.modulo?Object(b.jsx)(P,{}):"viewProveedores"===this.state.modulo?Object(b.jsx)(D,{}):"viewListDetails"===this.state.modulo?Object(b.jsx)(z,{}):Object(b.jsx)(P,{})]})}}]),n}(s.Component);c.a.render(Object(b.jsx)(M,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.a4047717.chunk.js.map